# OpenBricks Environment Configuration
# Copy this file to .env and customize values for your environment
# Never commit .env to version control!

# ================================
# General Configuration
# ================================
NODE_ENV=development
LOG_LEVEL=info

# ================================
# PostgreSQL Database
# ================================
POSTGRES_DB=openbricks
POSTGRES_USER=openbricks
POSTGRES_PASSWORD=openbricks
POSTGRES_PORT=5432

# ================================
# MinIO Object Storage
# ================================
MINIO_ROOT_USER=openbricks
MINIO_ROOT_PASSWORD=openbricks123
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001

# ================================
# Auth Service
# ================================
AUTH_SERVICE_PORT=8001

# JWT Configuration
# IMPORTANT: Change these secrets in production!
JWT_SECRET=change-this-secret-in-production-use-openssl-rand-base64-32
JWT_EXPIRY=86400

# JWT_EXPIRY values:
# 3600    = 1 hour
# 86400   = 24 hours (default)
# 604800  = 7 days
# 2592000 = 30 days

# ================================
# API Service
# ================================
API_SERVICE_PORT=8000

# ================================
# Storage Service
# ================================
STORAGE_SERVICE_PORT=8002

# ================================
# API Gateway
# ================================
API_GATEWAY_PORT=8080

# ================================
# Query Engine
# ================================
QUERY_ENGINE_PORT=8003

# ================================
# Frontend Services
# ================================

# Dashboard (React/Vite)
DASHBOARD_PORT=3000
VITE_API_URL=http://localhost:8080
VITE_AUTH_URL=http://localhost:8001

# Studio (Next.js)
STUDIO_PORT=3001
API_URL=http://localhost:8080
AUTH_URL=http://localhost:8001
NEXTAUTH_URL=http://localhost:3001
NEXTAUTH_SECRET=change-this-nextauth-secret-in-production

# ================================
# Spark Cluster
# ================================
SPARK_MASTER_PORT=7077
SPARK_MASTER_UI_PORT=8081

# Spark Worker Configuration
SPARK_WORKER_MEMORY=2G
SPARK_WORKER_CORES=2

# For production, increase worker resources:
# SPARK_WORKER_MEMORY=8G
# SPARK_WORKER_CORES=4

# ================================
# Notebooks & Workspace
# ================================
NOTEBOOKS_PORT=8888
WORKSPACE_PORT=8889

# ================================
# Development & Debugging
# ================================

# Enable verbose logging
# LOG_LEVEL=debug

# Disable rate limiting (development only)
# RATE_LIMIT_ENABLED=false

# Enable SQL query logging
# DATABASE_LOGGING=true

# ================================
# Production Configuration
# ================================

# For production deployment, consider:
# 1. Use strong, unique secrets (64+ characters)
# 2. Enable TLS/SSL for all services
# 3. Configure proper CORS origins
# 4. Set up database connection pooling
# 5. Use managed services (RDS, S3, etc.)
# 6. Enable monitoring and observability
# 7. Configure backup strategies
# 8. Set up log aggregation
# 9. Implement secrets management (Vault, AWS Secrets Manager)
# 10. Configure auto-scaling policies

# Example production secrets generation:
# JWT_SECRET=$(openssl rand -base64 32)
# NEXTAUTH_SECRET=$(openssl rand -base64 32)
# POSTGRES_PASSWORD=$(openssl rand -base64 24)
# MINIO_ROOT_PASSWORD=$(openssl rand -base64 24)
